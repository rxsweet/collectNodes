# æ··åˆç«¯å£
mixed-port: 7890
# å±€åŸŸç½‘è®¿é—®æ§åˆ¶(ç™½åå•/é»‘åå•)
allow-lan: true
lan-allowed-ips: ["0.0.0.0/0", "::/0"]
lan-disallowed-ips: []
# è¿è¡Œæ¨¡å¼
mode: rule
# æ—¥å¿—çº§åˆ«
log-level: info
# æ¥å—IPv6æµé‡
ipv6: true
# å¤–éƒ¨æ§åˆ¶ç›‘å¬åœ°å€ã€è®¿é—®å¯†é’¥
external-controller: 0.0.0.0:9090
secret: ""
# å»¶è¿Ÿè®¡ç®—å»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ
unified-delay: false
# TCPå¹¶å‘
tcp-concurrent: true
# å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹(æ”¯æŒVLESS,VMess,Trojan)
global-client-fingerprint: chrome
# ä¸‹è½½å¤–éƒ¨èµ„æº(proxy-providerã€rule-providerã€GEOç­‰)ä½¿ç”¨çš„UA
global-ua: clash.meta

# DNSé…ç½®
domestic_nameservers: &domestic_nameservers
  - https://dns.alidns.com/dns-query # é˜¿é‡Œäº‘å…¬å…±DNS
  - https://doh.pub/dns-query # è…¾è®¯DNSPod
  - https://doh.360.cn/dns-query # 360å®‰å…¨DNS
foreign_nameservers: &foreign_nameservers
  - https://1.1.1.1/dns-query # Cloudflare(ä¸»)
  - https://1.0.0.1/dns-query # Cloudflare(å¤‡)
  - https://208.67.222.222/dns-query # OpenDNS(ä¸»)
  - https://208.67.220.220/dns-query # OpenDNS(å¤‡)
  - https://194.242.2.2/dns-query # Mullvad(ä¸»)
  - https://194.242.2.3/dns-query # Mullvad(å¤‡)
dns:
  enable: true
  ipv6: true
  use-system-hosts: false
  cache-algorithm: arc
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    [
      "+.lan",
      "+.local",
      "+.msftconnecttest.com",
      "+.msftncsi.com",
      "localhost.ptlogin2.qq.com",
      "localhost.sec.qq.com",
      "localhost.work.weixin.qq.com",
    ]
  default-nameserver: ["223.5.5.5", "119.29.29.29", "1.1.1.1", "8.8.8.8"]
  nameserver: *domestic_nameservers
  proxy-server-nameserver: *domestic_nameservers
  nameserver-policy:
    "+.mirror.ghproxy.com": *foreign_nameservers
    "geosite:private,cn,geolocation-cn": *domestic_nameservers
    "geosite:google,youtube,telegram,gfw,geolocation-!cn": *foreign_nameservers

# GEOè‡ªåŠ¨æ›´æ–°ã€æ›´æ–°é—´éš”(å•ä½: å°æ—¶)ã€æ›´æ–°ä¸‹è½½åœ°å€
geo-auto-update: true
geo-update-interval: 48
geox-url:
  geoip: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat
  geosite: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat
  mmdb: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb
  asn: https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/GeoLite2-ASN.mmdb

# ä»£ç†åˆ—è¡¨
proxies: 
  - {"name":"è·ç¦»ä¸‹æ¬¡é‡ç½®å‰©ä½™ï¼š17 å¤©_261631fc-6497-419e-bb8d-61e36b9758d3","type":"vmess","server":"5.39.252.204","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}
  - {"name":"å¾·å›½-æ³•å…°å…‹ç¦-HY-001_c1ba16f2-d72a-4b12-af17-0bc3bd77c63d","server":"5.39.252.204","port":"3942","up":"100","down":"100","skip-cert-verify":true,"type":"hysteria2","password":"b741e793-7678-4377-988c-938786b219b4","obfs":"salamander","obfs-password":"M2UyNTc5OWUwYjkyM2Q2OQ=="}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-013_64dacd58-57a0-4df0-827d-7df7745b602f","server":"194.87.69.52","port":"28153","up":"100","down":"100","skip-cert-verify":true,"type":"hysteria2","password":"b741e793-7678-4377-988c-938786b219b4","obfs":"salamander","obfs-password":"NDhhNmY5YTY0MGYzOTgxYQ=="}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-013_521c0409-65ab-482c-b700-fb5489f0837c","type":"vmess","server":"194.87.69.52","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-012_00978400-4bef-4dfc-a480-26bbe0bbab36","type":"vmess","server":"195.58.49.86","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-012_ef0f5cad-e324-418f-aa68-ef42e3b757ff","server":"195.58.49.86","port":"28153","up":"100","down":"100","skip-cert-verify":true,"type":"hysteria2","password":"b741e793-7678-4377-988c-938786b219b4","obfs":"salamander","obfs-password":"NDhhNmY5YTY0MGYzOTgxYQ=="}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-016_d4a4744b-fa26-4d7a-a8d2-a6251b70f9a5","server":"194.87.69.50","port":"45751","up":"100","down":"100","skip-cert-verify":true,"type":"hysteria2","password":"b741e793-7678-4377-988c-938786b219b4","obfs":"salamander","obfs-password":"NDhhNmY5YTY0MGYzOTgxYQ=="}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-014_0a9158ab-317e-4723-b71f-888399fdbfed","server":"195.58.49.50","port":"28153","up":"100","down":"100","skip-cert-verify":true,"type":"hysteria2","password":"b741e793-7678-4377-988c-938786b219b4","obfs":"salamander","obfs-password":"NDhhNmY5YTY0MGYzOTgxYQ=="}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-014_b74ad0ae-e1ec-4e43-a6cf-0b81a0612d80","type":"vmess","server":"195.58.49.50","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-016_2b1c600c-fc2a-4062-b6f0-5db4d54e0766","type":"vmess","server":"194.87.69.50","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}
  - {"name":"ğŸ‡¯ğŸ‡µ JP é¦™è‰æ˜Ÿå†°ä¹_cb26ab3e-10a1-43eb-94a8-8a447ea6b201","server":"jpzl2.stardad.lol","port":"48512","sni":"https://bing.com","up":"1024","down":"1024","skip-cert-verify":true,"type":"hysteria2","password":"18a56ba4-28ba-47fb-ba45-f7a7a0de48c7"}
  - {"name":"ä¸­å›½-é¦™æ¸¯-005_987b2e90-8e8c-4f90-a2a9-879017e4a772","type":"vmess","server":"212.192.12.70","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}
  - {"name":"ä¸­å›½-é¦™æ¸¯-HY-005_be213bb0-6fa2-461a-beac-46584edfa309","server":"212.192.12.70","port":"32902","up":"100","down":"100","skip-cert-verify":true,"type":"hysteria2","password":"b741e793-7678-4377-988c-938786b219b4","obfs":"salamander","obfs-password":"YzcwOTNlODc4NDIzMWMyMg=="}
  - {"name":"ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-015_53ff8b53-fac2-44b6-9484-c9343a4703af","type":"vmess","server":"195.58.49.42","port":"61291","uuid":"b741e793-7678-4377-988c-938786b219b4","alterId":"0","cipher":"auto","udp":true,"network":"ws","ws-opts":{"path":"/"}}

# ä»£ç†ç»„
proxy-groups:
  - name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/adjust.svg
    proxies: ["è‡ªåŠ¨é€‰æ‹©", "DIRECT", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    tolerance: 200
    lazy: false
    interval: 60
    timeout: 2000
    url: http://www.gstatic.com/generate_204
    max-failed-times: 3
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/speed.svg
    proxies: ['æœªçŸ¥èŠ‚ç‚¹']

  - name: è°·æ­ŒæœåŠ¡
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/google.svg
    proxies: ["èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", "å…¨å±€ç›´è¿", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: å›½å¤–åª’ä½“
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/youtube.svg
    proxies: ["èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", "å…¨å±€ç›´è¿", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: ç”µæŠ¥æ¶ˆæ¯
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/telegram.svg
    proxies: ["èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", "å…¨å±€ç›´è¿", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: å¾®è½¯æœåŠ¡
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/microsoft.svg
    proxies: ["å…¨å±€ç›´è¿", "èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: è‹¹æœæœåŠ¡
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/apple.svg
    proxies: ["èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", "å…¨å±€ç›´è¿", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: å¹¿å‘Šè¿‡æ»¤
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/bug.svg
    proxies: ["REJECT", "DIRECT"]

  - name: å…¨å±€ç›´è¿
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/link.svg
    proxies: ["DIRECT", "èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: å…¨å±€æ‹¦æˆª
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/block.svg
    proxies: ["REJECT", "DIRECT"]

  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/fish.svg
    proxies: ["èŠ‚ç‚¹é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", "å…¨å±€ç›´è¿", 'æœªçŸ¥èŠ‚ç‚¹']

  - name: æœªçŸ¥èŠ‚ç‚¹
    type: url-test
    tolerance: 100
    lazy: false
    interval: 180
    timeout: 2000
    url: http://www.gstatic.com/generate_204
    max-failed-times: 3
    icon: https://fastly.jsdelivr.net/gh/dongchengjie/metaST@main/metaST/Resources/icons/unknown.svg
    hidden: false
    proxies: ['è·ç¦»ä¸‹æ¬¡é‡ç½®å‰©ä½™ï¼š17 å¤©_261631fc-6497-419e-bb8d-61e36b9758d3', 'å¾·å›½-æ³•å…°å…‹ç¦-HY-001_c1ba16f2-d72a-4b12-af17-0bc3bd77c63d', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-013_64dacd58-57a0-4df0-827d-7df7745b602f', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-013_521c0409-65ab-482c-b700-fb5489f0837c', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-012_00978400-4bef-4dfc-a480-26bbe0bbab36', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-012_ef0f5cad-e324-418f-aa68-ef42e3b757ff', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-016_d4a4744b-fa26-4d7a-a8d2-a6251b70f9a5', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-HY-014_0a9158ab-317e-4723-b71f-888399fdbfed', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-014_b74ad0ae-e1ec-4e43-a6cf-0b81a0612d80', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-016_2b1c600c-fc2a-4062-b6f0-5db4d54e0766', 'ğŸ‡¯ğŸ‡µ JP é¦™è‰æ˜Ÿå†°ä¹_cb26ab3e-10a1-43eb-94a8-8a447ea6b201', 'ä¸­å›½-é¦™æ¸¯-005_987b2e90-8e8c-4f90-a2a9-879017e4a772', 'ä¸­å›½-é¦™æ¸¯-HY-005_be213bb0-6fa2-461a-beac-46584edfa309', 'ä¿„ç½—æ–¯-åœ£å½¼å¾—å ¡-015_53ff8b53-fac2-44b6-9484-c9343a4703af']


# è§„åˆ™
rule-providers:
  reject:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt
    path: ./ruleset/loyalsoldier/reject.yaml
    interval: 86400
  icloud:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/icloud.txt
    path: ./ruleset/loyalsoldier/icloud.yaml
    interval: 86400
  apple:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/apple.txt
    path: ./ruleset/loyalsoldier/apple.yaml
    interval: 86400
  google:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/google.txt
    path: ./ruleset/loyalsoldier/google.yaml
    interval: 86400
  proxy:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt
    path: ./ruleset/loyalsoldier/proxy.yaml
    interval: 86400
  direct:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt
    path: ./ruleset/loyalsoldier/direct.yaml
    interval: 86400
  private:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/private.txt
    path: ./ruleset/loyalsoldier/private.yaml
    interval: 86400
  gfw:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt
    path: ./ruleset/loyalsoldier/gfw.yaml
    interval: 86400
  tld-not-cn:
    type: http
    behavior: domain
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/tld-not-cn.txt
    path: ./ruleset/loyalsoldier/tld-not-cn.yaml
    interval: 86400
  telegramcidr:
    type: http
    behavior: ipcidr
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/telegramcidr.txt
    path: ./ruleset/loyalsoldier/telegramcidr.yaml
    interval: 86400
  cncidr:
    type: http
    behavior: ipcidr
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt
    path: ./ruleset/loyalsoldier/cncidr.yaml
    interval: 86400
  lancidr:
    type: http
    behavior: ipcidr
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/lancidr.txt
    path: ./ruleset/loyalsoldier/lancidr.yaml
    interval: 86400
  applications:
    type: http
    behavior: classical
    format: yaml
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/applications.txt
    path: ./ruleset/loyalsoldier/applications.yaml
    interval: 86400

rules:
  # Google
  - DOMAIN-SUFFIX,googleapis.cn,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,gstatic.com,èŠ‚ç‚¹é€‰æ‹©
  # Google Play
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,èŠ‚ç‚¹é€‰æ‹©
  # Github Pages
  - DOMAIN-SUFFIX,github.io,èŠ‚ç‚¹é€‰æ‹©
  # V2raySE
  - DOMAIN,v2rayse.com,èŠ‚ç‚¹é€‰æ‹©
  # loyalsoldier è§„åˆ™é›†
  - RULE-SET,reject,å¹¿å‘Šè¿‡æ»¤
  - RULE-SET,icloud,å¾®è½¯æœåŠ¡
  - RULE-SET,apple,è‹¹æœæœåŠ¡
  - RULE-SET,google,è°·æ­ŒæœåŠ¡
  - RULE-SET,proxy,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,gfw,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,tld-not-cn,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,applications,å…¨å±€ç›´è¿
  - RULE-SET,private,å…¨å±€ç›´è¿
  - RULE-SET,direct,å…¨å±€ç›´è¿
  - RULE-SET,lancidr,å…¨å±€ç›´è¿,no-resolve
  - RULE-SET,cncidr,å…¨å±€ç›´è¿,no-resolve
  - RULE-SET,telegramcidr,ç”µæŠ¥æ¶ˆæ¯,no-resolve
  # å…¶ä»–
  - GEOIP,LAN,å…¨å±€ç›´è¿,no-resolve
  - GEOIP,CN,å…¨å±€ç›´è¿,no-resolve
  - MATCH,æ¼ç½‘ä¹‹é±¼

